"use strict";exports.SliceMsgToLastMsg=class{constructor(s){this.msgs="",this.sliceMsgIng=!1,this.$=s,this.t=70,this.msgCreateTime=!1,this.stopAction=!1}addMsg(s){this.msgs+=s,!1===this.sliceMsgIng&&this.sliceMsg()}end(){this.stopAction=!0}sliceMsg(){if(!0===this.stopAction)return;this.sliceMsgIng=!0;let s=this.msgs.slice(0,1);this.$.updateLastMsg((t=>{this.msgCreateTime&&this.msgCreateTime!=t.create_time||(this.msgCreateTime=t.create_time,t.content+=s)})),this.$.showLastMsg(),this.msgs=this.msgs.slice(1),this.msgs.length?this.t?setTimeout((()=>{this.sliceMsg(this.msgs)}),this.t):this.sliceMsg(this.msgs):this.sliceMsgIng=!1}};
