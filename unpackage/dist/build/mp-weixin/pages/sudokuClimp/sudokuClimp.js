"use strict";const e=require("../../common/vendor.js"),a=require("../../utils/business.js"),s={__name:"sudokuClimp",setup(s){const r=e.ref(!0),t=e.ref([]),o=e.ref(0),u=e.ref(0),l=e.ref(1),n=e.index.createCanvasContext("sudokuSource"),c=e.ref([{src:"../../static/images/border-vertical-flower.png"},{src:"../../static/images/border-vertical-golden.png"},{src:"../../static/images/border-horizontal-bird.png"},{src:"../../static/images/border-horizontal-cloud.png"}]);e.ref(null);const i=e.ref(null),v=e.ref([]);for(let e=0;e<9;e++)t.value.push(e);function d(a){const{screenWidth:s}=e.index.getWindowInfo();u.value=s,o.value=parseInt(u.value/l.value),n.drawImage(i.value,0,0,u.value,o.value),a&&(n.globalCompositeOperation="source-over",n.drawImage(a,0,0,u.value,o.value)),n.draw(!1,(()=>{const a=parseInt(u.value/3),s=parseInt(o.value/3);v.value=[];for(let r=0;r<3;r++)for(let t=0;t<3;t++)e.index.canvasToTempFilePath({canvasId:"sudokuSource",x:t*a,y:r*s,width:a,height:s,success(e){const{tempFilePath:a}=e;v.value.push(a)},fail(e){console.log("err:",e)}})}))}const g=()=>{e.index.chooseImage({count:1,sizeType:["original","compressed"],success:function(a){r.value=!0,e.index.getImageInfo({src:a.tempFilePaths[0],success(e){const{width:s,height:r}=e;l.value=(s/r).toFixed(2),i.value=a.tempFilePaths[0],d()}})}})},f=()=>{a.saveImage2Photo("canvas",v.value)};return(a,s)=>e.e({a:e.o(g),b:o.value+"px",c:e.f(v.value,((e,a,s)=>({a:e}))),d:e.f(c.value,((a,s,r)=>({a:a.src,b:e.o((()=>{(e=>{if(!v.value.length)return!1;d(e)})(a.src)}))}))),e:r.value},r.value?{f:e.o(f)}:{})}};wx.createPage(s);
